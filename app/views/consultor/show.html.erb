<section id="services" class="services section-bg">
  <div class="container custom-container" data-aos="fade-up">
    <div class="section-title">
      <h2 class="mt-4"><%= @consultor.nome %></h2>
    </div>

    <div class="card mb-4">
      <div class="card-body">
        <p><strong>Email:</strong> <%= @consultor.email %></p>
        <p><strong>Especialidade:</strong> <%= @consultor.especialidade.nome %></p>
        <p><strong>Cidade:</strong> <%= @consultor.cidade.descricao %></p>
        <p><strong>Descrição:</strong> <%= @consultor.descricao %></p>
      </div>
    </div>

    <div class="row">
      <% @resultado.each do |item| %>
        <div class="col-xl-3 col-md-6 d-flex align-items-stretch mb-3" data-aos="zoom-in" data-aos-delay="100">
          <div class="icon-box-agendamento">
            <h4><%= item[:disponibilidade].data.strftime("%d/%m/%Y") %></h4>
            <p><strong>Início:</strong> <%= item[:disponibilidade].hora_inicio.strftime("%H:%M") %></p>
            <p><strong>Fim:</strong> <%= item[:disponibilidade].hora_fim.strftime("%H:%M") %></p>

            <% if item[:status] == 'Ocupado' %>
              <p class="text-danger"><strong>Ocupado</strong></p>
            <% else %>
              <%= link_to 'Agendar', new_agendamento_path(
                  disponibilidade_id: item[:disponibilidade].id,
                  data: item[:disponibilidade].data,
                  hora_inicio: item[:disponibilidade].hora_inicio,
                  hora_fim: item[:disponibilidade].hora_fim,
                  consultor_id: @consultor.id,
                  cliente_id: current_user.id
                ), class: 'btn btn-primary' %>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</section>
